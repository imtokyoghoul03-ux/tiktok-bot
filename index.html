<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: #000; font-family: sans-serif; }
        #video-container { height: 100vh; scroll-snap-type: y mandatory; overflow-y: scroll; -webkit-overflow-scrolling: touch; }
        .video-card { height: 100vh; scroll-snap-align: start; position: relative; display: flex; align-items: center; justify-content: center; background: #000; }
        video { width: 100%; height: 100%; object-fit: cover; }
        .overlay { position: absolute; bottom: 50px; left: 15px; color: white; text-shadow: 1px 1px 5px rgba(0,0,0,0.8); pointer-events: none; }
    </style>
</head>
<body>

    <div id="video-container"></div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // –ú–æ–π –ø–æ–¥–±–æ—Ä —Å—Å—ã–ª–æ–∫ –¥–ª—è —Ç–≤–æ–µ–π –ª–µ–Ω—Ç—ã
        const videoSources = [
            "https://www.w3schools.com/html/mov_bbb.mp4",
            "https://www.w3schools.com/html/movie.mp4",
            "https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4",
            "https://v1.buzzvid.info/video/1.mp4",
            "https://v1.buzzvid.info/video/2.mp4",
            "https://v1.buzzvid.info/video/3.mp4",
            "https://v1.buzzvid.info/video/4.mp4",
            "https://v1.buzzvid.info/video/5.mp4",
            "https://static.videezy.com/system/resources/previews/000/007/312/original/air_bubbles_4k_2.mp4",
            "https://static.videezy.com/system/resources/previews/000/041/559/original/D_15_A.mp4"
        ];

        const container = document.getElementById('video-container');

        // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏
        videoSources.forEach((src, index) => {
            const card = document.createElement('div');
            card.className = 'video-card';
            card.innerHTML = `
                <video src="${src}" loop playsinline ${index === 0 ? 'autoplay muted' : ''}></video>
                <div class="overlay"><h3>–í–∏–¥–µ–æ #${index + 1}</h3><p>–õ–∏—Å—Ç–∞–π –≤–Ω–∏–∑ üëá</p></div>
            `;
            container.appendChild(card);
        });

        const videos = document.querySelectorAll('video');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.play().catch(() => {});
                } else {
                    entry.target.pause();
                }
            });
        }, { threshold: 0.6 });

        videos.forEach(v => observer.observe(v));

        // –í–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–∞ –ø–æ –∫–ª–∏–∫—É
        window.addEventListener('click', () => {
            videos.forEach(v => v.muted = false);
        }, { once: true });
    </script>
</body>
</html>

